{% extends "inc/base.html" %}
{% load static %}
{% block title %}
Tasker - Reset Your Password
{% endblock %}
{% block content %}
  <div class="flex-grow-1 d-flex justify-content-center align-items-center my-5">
    <div class="col-lg-5 mx-auto p-5 bg-white rounded shadow-lg">
      <div class="text-center position-relative">
        <img class="rounded-circle p-2 position-absolute translate-middle negative-top width-100" src="{% static 'asset/forgot-password.png' %}" alt="Reset Password" />
      </div>
      <h3 class="mb-2 text-center pt-5">Reset Your Password</h3>
      <p class="text-center lead">Enter your new password below</p>

      <!-- Password Reset Confirm Form -->
      <form method="post">
        {% csrf_token %}
        
        <!-- Display Form Errors -->
        {% if form.errors %}
          <div class="alert alert-danger">
            <strong>Error:</strong> Please correct the errors below.
            <ul>
              {% for field, errors in form.errors.items %}
                {% for error in errors %}
                  <li>{{ error }}</li>
                {% endfor %}
              {% endfor %}
            </ul>
          </div>
        {% endif %}

        <!-- New Password Field -->
        <label class="fw-bolder" for="id_new_password1">New Password</label>
        <input class="form-control mt-2 mb-3 py-2 px-3" type="password" name="new_password1" id="id_new_password1" placeholder="Enter new password" required />

        <!-- Confirm New Password Field -->
        <label class="fw-bolder" for="id_new_password2">Confirm New Password</label>
        <input class="form-control mt-2 mb-3 py-2 px-3" type="password" name="new_password2" id="id_new_password2" placeholder="Confirm new password" required />

        <!-- Submit Button -->
        <button class="btn btn-primary w-100 py-2 shadow-lg" type="submit">Reset Password</button>
      </form>

      <!-- Additional Links -->
      <div class="text-center pt-4">
        <p>Do not have an account? <a class="text-dark fw-bold link-underline link-underline-opacity-0" href="{% url 'accounts:register' %}">Sign Up</a></p>
        <p>Do you already have an account? <a class="text-dark fw-bold link-underline link-underline-opacity-0" href="{% url 'accounts:login' %}">Login</a></p>
      </div>
    </div>
  </div>
{% endblock %}